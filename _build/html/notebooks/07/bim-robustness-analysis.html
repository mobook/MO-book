
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Robustness analysis of BIM production plan via simulations &#8212; Companion Notebooks for Data-Driven Mathematical Optimization in Python</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="8. Robust Optimization - Single Stage Problems" href="../08/08.00.html" />
    <link rel="prev" title="7. Accounting for Uncertainty: Optimization Meets Reality" href="07.00.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-DVQ7NZ8CYZ"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-DVQ7NZ8CYZ');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo-02.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Companion Notebooks for Data-Driven Mathematical Optimization in Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Data-Driven Mathematical Optimization in Python
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01/01.00.html">
   1. Mathematical Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/pop-up_shop.html">
     Pop-up shop
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02/02.00.html">
   2. Linear Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/bim.html">
     BIM production
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/lad-regression.html">
     LAD Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/mad-portfolio-optimization.html">
     MAD portfolio optimization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/multiproductionfaciliity_worstcase.html">
     Extra material: Multi-product facility production
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03/03.00.html">
   3. Mixed Integer Linear Programming
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/bim-perturbed.html">
     BIM production with perturbed data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/simple-production-model-gdp.html">
     Production model using disjunctions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/machine-scheduling.html">
     Machine Scheduling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/recharging-electric-vehicle.html">
     Recharging strategy for an electric vehicle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/bim-production-revisited.html">
     BIM production revisited
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/cryptarithms.html">
     Extra material: Cryptarithms puzzle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/strip-packing.html">
     Extra material: Strip packing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/job-shop-scheduling.html">
     Extra material: Job shop scheduling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/maintenance-planning.html">
     Extra material: Maintenance planning
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04/04.00.html">
   4. Network Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/dinner-seat-allocation.html">
     Dinner seating arrangement
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/gasoline-distribution.html">
     Gasoline distribution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/cryptocurrency-arbitrage.html">
     Cryptocurrency arbitrage search
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/shortest-path-road-networks.html">
     Extra material: Shortest path in real life
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/power-network.html">
     Extra material: Energy dispatch problem
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05/05.00.html">
   5. Convex Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/milk-pooling.html">
     Milk pooling and blending
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/ols-regression.html">
     Ordinary Least Squares (OLS) Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/markowitz_portfolio_with_chance_constraint.html">
     Portfolio optimization with chance constraint
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/svm-linear.html">
     Support Vector Machines for Binary Classification
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/refinery-production.html">
     Extra material: Refinery production and shadow pricing
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06/06.00.html">
   6. Conic Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/economic-order-quantity.html">
     Economic Order Quantity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="07.00.html">
   7. Accounting for Uncertainty: Optimization Meets Reality
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Robustness analysis of BIM production plan via simulations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08/08.00.html">
   8. Robust Optimization - Single Stage Problems
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08/bim-robust-optimization.html">
     Various robust versions of BIM production problem
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../09/09.00.html">
   9. Stochastic Optimization - Single Stage Problems
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../09/newsvendor.html">
     Stock optimization for seafood distribution center
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../10/10.00.html">
   10. Two-Stage Problems
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/airline-seating.html">
     Airline seat allocation problem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/farmer.html">
     Farmerâ€™s problem and some of its variants
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../pyomo_style_guide.html">
   Appendix: Pyomo style guide
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/mobook/MO-book/main?urlpath=tree/notebooks/07/bim-robustness-analysis.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/mobook/MO-book/blob/main/notebooks/07/bim-robustness-analysis.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/mobook/MO-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/mobook/MO-book/issues/new?title=Issue%20on%20page%20%2Fnotebooks/07/bim-robustness-analysis.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/notebooks/07/bim-robustness-analysis.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#actual-performance-of-the-robust-solution">
   Actual performance of the robust solution
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Robustness analysis of BIM production plan via simulations</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#actual-performance-of-the-robust-solution">
   Actual performance of the robust solution
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="robustness-analysis-of-bim-production-plan-via-simulations">
<h1>Robustness analysis of BIM production plan via simulations<a class="headerlink" href="#robustness-analysis-of-bim-production-plan-via-simulations" title="Permalink to this headline">#</a></h1>
<p>This example is a continuation of the BIM chip production problem illustrated <a class="reference internal" href="../02/bim.html"><span class="doc std std-doc">here</span></a>. Recall hat BIM produces logic and memory chips using copper, silicon, germanium, and plastic and that each chip requires the following quantities of raw materials:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>chip</p></th>
<th class="text-align:right head"><p>copper</p></th>
<th class="text-align:right head"><p>silicon</p></th>
<th class="text-align:right head"><p>germanium</p></th>
<th class="text-align:right head"><p>plastic</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>logic</p></td>
<td class="text-align:right"><p>0.4</p></td>
<td class="text-align:right"><p>1</p></td>
<td class="text-align:right"><p>-</p></td>
<td class="text-align:right"><p>1</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>memory</p></td>
<td class="text-align:right"><p>0.2</p></td>
<td class="text-align:right"><p>-</p></td>
<td class="text-align:right"><p>1</p></td>
<td class="text-align:right"><p>1</p></td>
</tr>
</tbody>
</table>
<p>BIM needs to carefully manage the acquisition and inventory of these raw materials based on the forecasted demand for the chips. Data analysis led to the following prediction of monthly demands:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>chip</p></th>
<th class="text-align:right head"><p>Jan</p></th>
<th class="text-align:right head"><p>Feb</p></th>
<th class="text-align:right head"><p>Mar</p></th>
<th class="text-align:right head"><p>Apr</p></th>
<th class="text-align:right head"><p>May</p></th>
<th class="text-align:right head"><p>Jun</p></th>
<th class="text-align:right head"><p>Jul</p></th>
<th class="text-align:right head"><p>Aug</p></th>
<th class="text-align:right head"><p>Sep</p></th>
<th class="text-align:right head"><p>Oct</p></th>
<th class="text-align:right head"><p>Nov</p></th>
<th class="text-align:right head"><p>Dec</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>logic</p></td>
<td class="text-align:right"><p>88</p></td>
<td class="text-align:right"><p>125</p></td>
<td class="text-align:right"><p>260</p></td>
<td class="text-align:right"><p>217</p></td>
<td class="text-align:right"><p>238</p></td>
<td class="text-align:right"><p>286</p></td>
<td class="text-align:right"><p>248</p></td>
<td class="text-align:right"><p>238</p></td>
<td class="text-align:right"><p>265</p></td>
<td class="text-align:right"><p>293</p></td>
<td class="text-align:right"><p>259</p></td>
<td class="text-align:right"><p>244</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>memory</p></td>
<td class="text-align:right"><p>47</p></td>
<td class="text-align:right"><p>62</p></td>
<td class="text-align:right"><p>81</p></td>
<td class="text-align:right"><p>65</p></td>
<td class="text-align:right"><p>95</p></td>
<td class="text-align:right"><p>118</p></td>
<td class="text-align:right"><p>86</p></td>
<td class="text-align:right"><p>89</p></td>
<td class="text-align:right"><p>82</p></td>
<td class="text-align:right"><p>82</p></td>
<td class="text-align:right"><p>84</p></td>
<td class="text-align:right"><p>66</p></td>
</tr>
</tbody>
</table>
<p>At the beginning of the year, BIM has the following stock:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:right head"><p>copper</p></th>
<th class="text-align:right head"><p>silicon</p></th>
<th class="text-align:right head"><p>germanium</p></th>
<th class="text-align:right head"><p>plastic</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:right"><p>480</p></td>
<td class="text-align:right"><p>1000</p></td>
<td class="text-align:right"><p>1500</p></td>
<td class="text-align:right"><p>1750</p></td>
</tr>
</tbody>
</table>
<p>The company would like to have at least the following stock at the end of the year:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:right head"><p>copper</p></th>
<th class="text-align:right head"><p>silicon</p></th>
<th class="text-align:right head"><p>germanium</p></th>
<th class="text-align:right head"><p>plastic</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:right"><p>200</p></td>
<td class="text-align:right"><p>500</p></td>
<td class="text-align:right"><p>500</p></td>
<td class="text-align:right"><p>1000</p></td>
</tr>
</tbody>
</table>
<p>Each raw material can be acquired at each month, but the unit prices vary as follows:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>product</p></th>
<th class="text-align:right head"><p>Jan</p></th>
<th class="text-align:right head"><p>Feb</p></th>
<th class="text-align:right head"><p>Mar</p></th>
<th class="text-align:right head"><p>Apr</p></th>
<th class="text-align:right head"><p>May</p></th>
<th class="text-align:right head"><p>Jun</p></th>
<th class="text-align:right head"><p>Jul</p></th>
<th class="text-align:right head"><p>Aug</p></th>
<th class="text-align:right head"><p>Sep</p></th>
<th class="text-align:right head"><p>Oct</p></th>
<th class="text-align:right head"><p>Nov</p></th>
<th class="text-align:right head"><p>Dec</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>copper</p></td>
<td class="text-align:right"><p>1</p></td>
<td class="text-align:right"><p>1</p></td>
<td class="text-align:right"><p>1</p></td>
<td class="text-align:right"><p>2</p></td>
<td class="text-align:right"><p>2</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>2</p></td>
<td class="text-align:right"><p>2</p></td>
<td class="text-align:right"><p>1</p></td>
<td class="text-align:right"><p>1</p></td>
<td class="text-align:right"><p>2</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>silicon</p></td>
<td class="text-align:right"><p>4</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>5</p></td>
<td class="text-align:right"><p>5</p></td>
<td class="text-align:right"><p>6</p></td>
<td class="text-align:right"><p>5</p></td>
<td class="text-align:right"><p>4</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>5</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>germanium</p></td>
<td class="text-align:right"><p>5</p></td>
<td class="text-align:right"><p>5</p></td>
<td class="text-align:right"><p>5</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>2</p></td>
<td class="text-align:right"><p>3</p></td>
<td class="text-align:right"><p>4</p></td>
<td class="text-align:right"><p>5</p></td>
<td class="text-align:right"><p>6</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>plastic</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
<td class="text-align:right"><p>0.1</p></td>
</tr>
</tbody>
</table>
<p>The inventory is limited by a capacity of a total of 9000 units per month, regardless of the type of material of products in stock. The holding costs of the inventory are 0.05 per unit per month regardless of the material type. Due to budget constraints, BIM cannot spend more than 5000 per month on acquisition.</p>
<p>BIM aims at minimizing the acquisition and holding costs of the materials while meeting the required quantities for production. The production is made to order, meaning that no inventory of chips is kept.</p>
<p>Let us model the material acquisition planning and solve it optimally based on the forecasted chip demand above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># install Pyomo and solvers</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">types</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/mobook/MO-book/main/python/helper.py&quot;</span>
<span class="n">helper</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">(</span><span class="s2">&quot;helper&quot;</span><span class="p">)</span>
<span class="n">exec</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">helper</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>

<span class="n">helper</span><span class="o">.</span><span class="n">install_pyomo</span><span class="p">()</span>
<span class="n">helper</span><span class="o">.</span><span class="n">install_cbc</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pyomo was previously installed
cbc was previously installed
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pyomo.environ</span> <span class="k">as</span> <span class="nn">pyo</span>

<span class="n">demand_data</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">chip, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec</span>
<span class="s1">logic, 88, 125, 260, 217, 238, 286, 248, 238, 265, 293, 259, 244</span>
<span class="s1">memory, 47, 62, 81, 65, 95, 118, 86, 89, 82, 82, 84, 66</span>
<span class="s1">&#39;&#39;&#39;</span>

<span class="n">demand_chips</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">demand_data</span><span class="p">),</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;chip&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">demand_chips</span><span class="p">)</span>

<span class="n">price_data</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">product, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec</span>
<span class="s1">copper, 1, 1, 1, 2, 2, 3, 3, 2, 2, 1, 1, 2</span>
<span class="s1">silicon, 4, 3, 3, 3, 5, 5, 6, 5, 4, 3, 3, 5</span>
<span class="s1">germanium, 5, 5, 5, 3, 3, 3, 3, 2, 3, 4, 5, 6</span>
<span class="s1">plastic, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1</span>
<span class="s1">&#39;&#39;&#39;</span>

<span class="n">price</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">price_data</span><span class="p">),</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;product&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jan</th>
      <th>Feb</th>
      <th>Mar</th>
      <th>Apr</th>
      <th>May</th>
      <th>Jun</th>
      <th>Jul</th>
      <th>Aug</th>
      <th>Sep</th>
      <th>Oct</th>
      <th>Nov</th>
      <th>Dec</th>
    </tr>
    <tr>
      <th>chip</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>logic</th>
      <td>88</td>
      <td>125</td>
      <td>260</td>
      <td>217</td>
      <td>238</td>
      <td>286</td>
      <td>248</td>
      <td>238</td>
      <td>265</td>
      <td>293</td>
      <td>259</td>
      <td>244</td>
    </tr>
    <tr>
      <th>memory</th>
      <td>47</td>
      <td>62</td>
      <td>81</td>
      <td>65</td>
      <td>95</td>
      <td>118</td>
      <td>86</td>
      <td>89</td>
      <td>82</td>
      <td>82</td>
      <td>84</td>
      <td>66</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jan</th>
      <th>Feb</th>
      <th>Mar</th>
      <th>Apr</th>
      <th>May</th>
      <th>Jun</th>
      <th>Jul</th>
      <th>Aug</th>
      <th>Sep</th>
      <th>Oct</th>
      <th>Nov</th>
      <th>Dec</th>
    </tr>
    <tr>
      <th>product</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>copper</th>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>silicon</th>
      <td>4.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>germanium</th>
      <td>5.0</td>
      <td>5.0</td>
      <td>5.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>plastic</th>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">use</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">use</span><span class="p">[</span><span class="s1">&#39;logic&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;silicon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;plastic&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;copper&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="n">use</span><span class="p">[</span><span class="s1">&#39;memory&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;germanium&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;plastic&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;copper&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">use</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">use</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">material_demand</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">demand_chips</span><span class="p">)</span>

<span class="n">existing</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;silicon&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;germanium&#39;</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span> <span class="s1">&#39;plastic&#39;</span><span class="p">:</span> <span class="mi">1750</span><span class="p">,</span> <span class="s1">&#39;copper&#39;</span><span class="p">:</span> <span class="mi">4800</span> <span class="p">})</span>
<span class="n">eot_inventory</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;silicon&#39;</span><span class="p">:</span>  <span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;germanium&#39;</span><span class="p">:</span>  <span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;plastic&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;copper&#39;</span><span class="p">:</span> <span class="mi">2000</span> <span class="p">})</span>

<span class="c1"># we store all the problemd data in one object to easily perform folding-horizon simulations</span>
<span class="k">def</span> <span class="nf">initialize_problem_data</span><span class="p">():</span>
    <span class="n">problem_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="n">price</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="s2">&quot;inventory_cost&quot;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
        <span class="s2">&quot;material_demand&quot;</span><span class="p">:</span> <span class="n">material_demand</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="s2">&quot;demand_chips_ref&quot;</span><span class="p">:</span> <span class="n">demand_chips</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="s2">&quot;demand_chips_simulation&quot;</span><span class="p">:</span> <span class="n">demand_chips</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="s2">&quot;use&quot;</span><span class="p">:</span> <span class="n">use</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="s2">&quot;existing&quot;</span><span class="p">:</span> <span class="n">existing</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="s2">&quot;eot_inventory&quot;</span><span class="p">:</span> <span class="n">eot_inventory</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="s2">&quot;stock_limit&quot;</span><span class="p">:</span> <span class="mi">9000</span><span class="p">,</span>
        <span class="s2">&quot;month_budget&quot;</span><span class="p">:</span> <span class="mi">2500</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">problem_data</span>

<span class="n">problem_data</span> <span class="o">=</span> <span class="n">initialize_problem_data</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ShowTableOfPyomoVariables</span><span class="p">(</span> <span class="n">X</span><span class="p">,</span> <span class="n">I</span><span class="p">,</span> <span class="n">J</span> <span class="p">):</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span> <span class="p">[</span> <span class="p">[</span> <span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span> <span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span> <span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span> <span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">I</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">J</span> <span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">decimals</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">BIMProductAcquisitionAndInventory</span><span class="p">(</span><span class="n">problem_data</span><span class="p">):</span>
    <span class="n">demand</span> <span class="o">=</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;use&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;demand_chips_ref&quot;</span><span class="p">]</span> <span class="p">)</span>
    <span class="n">acquisition_price</span> <span class="o">=</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span>
    <span class="n">existing</span> <span class="o">=</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;existing&quot;</span><span class="p">]</span>
    <span class="n">desired</span> <span class="o">=</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;eot_inventory&quot;</span><span class="p">]</span>
    <span class="n">stock_limit</span> <span class="o">=</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;stock_limit&quot;</span><span class="p">]</span>
    <span class="n">month_budget</span> <span class="o">=</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;month_budget&quot;</span><span class="p">]</span>
    
    <span class="n">m</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">ConcreteModel</span><span class="p">(</span> <span class="s1">&#39;Product acquisition and inventory&#39;</span> <span class="p">)</span>
    
    <span class="n">periods</span>  <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">products</span> <span class="o">=</span> <span class="n">demand</span><span class="o">.</span><span class="n">index</span> 
    <span class="n">first</span>    <span class="o">=</span> <span class="n">periods</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
    <span class="n">prev</span>     <span class="o">=</span> <span class="p">{</span> <span class="n">j</span> <span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span><span class="n">periods</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="p">}</span>
    <span class="n">last</span>     <span class="o">=</span> <span class="n">periods</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="n">m</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span> <span class="n">initialize</span><span class="o">=</span><span class="n">periods</span> <span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">P</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span> <span class="n">initialize</span><span class="o">=</span><span class="n">products</span> <span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">PT</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span> <span class="o">*</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span> <span class="c1"># to avoid internal set bloat</span>
    
    <span class="n">m</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">PT</span><span class="p">,</span> <span class="n">within</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">PT</span><span class="p">,</span> <span class="n">within</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span><span class="p">)</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">PT</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">pi</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">acquisition_price</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="n">t</span><span class="p">]</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">PT</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">h</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">):</span> 
        <span class="k">return</span> <span class="mf">.05</span> <span class="c1"># the holding cost</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">PT</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">demand</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Expression</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">acquisition_cost</span><span class="p">(</span> <span class="n">m</span> <span class="p">):</span>
        <span class="k">return</span> <span class="n">pyo</span><span class="o">.</span><span class="n">quicksum</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">pi</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="o">*</span> <span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span> <span class="p">)</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Expression</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">inventory_cost</span><span class="p">(</span> <span class="n">m</span> <span class="p">):</span>
        <span class="k">return</span> <span class="n">pyo</span><span class="o">.</span><span class="n">quicksum</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">h</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="o">*</span> <span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span> <span class="p">)</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span><span class="n">sense</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">minimize</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">total_cost</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">acquisition_cost</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">inventory_cost</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">PT</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">balance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">t</span> <span class="o">==</span> <span class="n">first</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">existing</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="n">m</span><span class="o">.</span><span class="n">delta</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">prev</span><span class="p">[</span><span class="n">t</span><span class="p">]]</span> <span class="o">==</span> <span class="n">m</span><span class="o">.</span><span class="n">delta</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span>
        
    <span class="nd">@m</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">finish</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">last</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">desired</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">inventory</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pyo</span><span class="o">.</span><span class="n">quicksum</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span> <span class="p">)</span> <span class="o">&lt;=</span> <span class="n">stock_limit</span>
    
    <span class="nd">@m</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">budget</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pyo</span><span class="o">.</span><span class="n">quicksum</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">pi</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span><span class="o">*</span><span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span> <span class="p">)</span> <span class="o">&lt;=</span> <span class="n">month_budget</span>
    
    <span class="k">return</span> <span class="n">m</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">BIMProductAcquisitionAndInventory</span><span class="p">(</span><span class="n">problem_data</span><span class="p">)</span>
<span class="n">pyo</span><span class="o">.</span><span class="n">SolverFactory</span><span class="p">(</span><span class="s1">&#39;mosek&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">total_cost</span><span class="p">())</span>

<span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;purchases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ShowTableOfPyomoVariables</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;stock&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ShowTableOfPyomoVariables</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;purchases&quot;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;stock&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>23580.340833333332
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jan</th>
      <th>Feb</th>
      <th>Mar</th>
      <th>Apr</th>
      <th>May</th>
      <th>Jun</th>
      <th>Jul</th>
      <th>Aug</th>
      <th>Sep</th>
      <th>Oct</th>
      <th>Nov</th>
      <th>Dec</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>silicon</th>
      <td>0.0</td>
      <td>833.33</td>
      <td>225.67</td>
      <td>833.33</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>368.67</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>plastic</th>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>266.0</td>
      <td>327.00</td>
      <td>722.00</td>
      <td>0.0</td>
      <td>343.0</td>
      <td>1310.0</td>
    </tr>
    <tr>
      <th>copper</th>
      <td>666.0</td>
      <td>0.00</td>
      <td>1823.00</td>
      <td>0.00</td>
      <td>310.78</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1233.65</td>
      <td>476.57</td>
      <td>2500.0</td>
      <td>2465.7</td>
      <td>682.3</td>
    </tr>
    <tr>
      <th>germanium</th>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jan</th>
      <th>Feb</th>
      <th>Mar</th>
      <th>Apr</th>
      <th>May</th>
      <th>Jun</th>
      <th>Jul</th>
      <th>Aug</th>
      <th>Sep</th>
      <th>Oct</th>
      <th>Nov</th>
      <th>Dec</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>silicon</th>
      <td>912.0</td>
      <td>1620.33</td>
      <td>1586.0</td>
      <td>2202.33</td>
      <td>1964.33</td>
      <td>1678.33</td>
      <td>1430.33</td>
      <td>1192.33</td>
      <td>1296.0</td>
      <td>1003.0</td>
      <td>744.0</td>
      <td>500.0</td>
    </tr>
    <tr>
      <th>plastic</th>
      <td>1615.0</td>
      <td>1428.00</td>
      <td>1087.0</td>
      <td>805.00</td>
      <td>472.00</td>
      <td>68.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>375.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1000.0</td>
    </tr>
    <tr>
      <th>copper</th>
      <td>5020.0</td>
      <td>4396.00</td>
      <td>5017.0</td>
      <td>4019.00</td>
      <td>3187.78</td>
      <td>1807.78</td>
      <td>643.78</td>
      <td>747.43</td>
      <td>0.0</td>
      <td>1164.0</td>
      <td>2425.7</td>
      <td>2000.0</td>
    </tr>
    <tr>
      <th>germanium</th>
      <td>1453.0</td>
      <td>1391.00</td>
      <td>1310.0</td>
      <td>1245.00</td>
      <td>1150.00</td>
      <td>1032.00</td>
      <td>946.00</td>
      <td>857.00</td>
      <td>775.0</td>
      <td>693.0</td>
      <td>609.0</td>
      <td>543.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">BIMProductAcquisitionAndInventory</span><span class="p">(</span><span class="n">problem_data</span><span class="p">)</span>
<span class="n">pyo</span><span class="o">.</span><span class="n">SolverFactory</span><span class="p">(</span><span class="s1">&#39;cbc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The optimal solution yields a total cost of&#39;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">total_cost</span><span class="p">),</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The optimal solution yields a total cost of 23580.34
</pre></div>
</div>
</div>
</div>
<section id="actual-performance-of-the-robust-solution">
<h2>Actual performance of the robust solution<a class="headerlink" href="#actual-performance-of-the-robust-solution" title="Permalink to this headline">#</a></h2>
<p>We now perform a stochastic simulation to assess the performance of the robust solutions that we found earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">################# SIMULATION OF THE REAL-TIME PERFORMANCE #######################</span>

<span class="c1"># Conceptual</span>
<span class="c1">#1) Decide on how to perturb the demand</span>
<span class="c1">#2) Decide what is done given the perturbed demand - which product has the most priority</span>
<span class="c1">#3) Decide what data to collect along the simulation</span>

<span class="c1"># Implementation</span>
<span class="c1">#1) Create a function that given demand trajectory and solution simulates by moving step by step, calling a sub-function</span>
<span class="c1">#2) Create a function that given initial state at time t-1 executes the &quot;what do do&quot; strategy so that we obtain the immediate decisions </span>
<span class="c1">#3) Update the data and move to the next state</span>

<span class="c1"># How to represent a demand trajectory? Data frame with columns as period names</span>
<span class="c1"># What data to output per period: </span>
<span class="c1"># (i) missed demand per each chip category, </span>
<span class="c1"># (ii) inventory for each raw material (start or end?)</span>

<span class="c1"># Create a class to store all the data of the current solution so that it&#39;s easy to retrieve</span>

<span class="k">def</span> <span class="nf">simulation_per_trajectory</span><span class="p">(</span><span class="n">purchases</span><span class="p">,</span> <span class="n">existing</span><span class="p">,</span> <span class="n">demand_chips</span><span class="p">,</span> <span class="n">use</span><span class="p">):</span>
    
    <span class="c1"># Set up the table to store inventory evolution</span>
    <span class="n">inventory</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="n">purchases</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">purchases</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="n">inventory</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">existing</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="n">existing</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;existing&quot;</span><span class="p">]),</span> <span class="n">inventory</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    
    <span class="c1">#print(inventory)</span>
    <span class="c1"># Set up the DF to store missed demand information</span>
    <span class="n">missed_demand</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">demand_chips</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">purchases</span><span class="o">.</span><span class="n">columns</span><span class="p">))),</span> <span class="n">index</span> <span class="o">=</span> <span class="n">demand_chips</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">purchases</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    
    <span class="c1"># proper simulation</span>
    <span class="k">for</span> <span class="n">period</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">minimize_missed_demand_in_period</span><span class="p">(</span><span class="n">inventory</span><span class="p">,</span> <span class="n">missed_demand</span><span class="p">,</span> <span class="n">purchases</span><span class="p">,</span> <span class="n">existing</span><span class="p">,</span> <span class="n">demand_chips</span><span class="p">,</span> <span class="n">use</span><span class="p">,</span> <span class="n">period</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">inventory</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">missed_demand</span>

<span class="k">def</span> <span class="nf">minimize_missed_demand_in_period</span><span class="p">(</span><span class="n">inventory</span><span class="p">,</span> <span class="n">missed_demand</span><span class="p">,</span> <span class="n">purchases</span><span class="p">,</span> <span class="n">existing</span><span class="p">,</span> <span class="n">demand_chips</span><span class="p">,</span> <span class="n">use</span><span class="p">,</span> <span class="n">period</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">ConcreteModel</span><span class="p">(</span><span class="s1">&#39;In period&#39;</span><span class="p">)</span>
    
    <span class="n">periods</span>  <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">first</span>    <span class="o">=</span> <span class="n">periods</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
    <span class="n">prev</span>     <span class="o">=</span> <span class="p">{</span> <span class="n">j</span> <span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">periods</span><span class="p">,</span><span class="n">periods</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="p">}</span>
    <span class="n">last</span>     <span class="o">=</span> <span class="n">periods</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="n">m</span><span class="o">.</span><span class="n">P</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span> <span class="n">initialize</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">use</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>  <span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">M</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span> <span class="n">initialize</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">use</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="p">)</span>
    <span class="c1"># decision variable: nb of chips to produce &gt;= 0</span>
    <span class="n">m</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">within</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span> <span class="p">)</span>
    <span class="c1"># decision variable: missed demand</span>
    <span class="n">m</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">within</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">NonNegativeReals</span> <span class="p">)</span>
    
    <span class="c1"># constraint: per resource we don&#39;t use more than there is</span>
    <span class="nd">@m</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">M</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">resource_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pyo</span><span class="o">.</span><span class="n">quicksum</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">*</span> <span class="n">use</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">p</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">prev</span><span class="p">[</span><span class="n">period</span><span class="p">]]</span> <span class="o">+</span> <span class="n">purchases</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">period</span><span class="p">]</span>
    
    <span class="c1"># constraint: production + missed demand = total demand in this period</span>
    <span class="nd">@m</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">produced_plus_unmet</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">==</span> <span class="n">demand_chips</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">p</span><span class="p">,</span> <span class="n">period</span><span class="p">]</span>
    
    <span class="c1"># objective - minimize the missed demand</span>
    <span class="nd">@m</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span> <span class="n">sense</span><span class="o">=</span><span class="n">pyo</span><span class="o">.</span><span class="n">minimize</span> <span class="p">)</span>
    <span class="k">def</span> <span class="nf">total_unmet</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pyo</span><span class="o">.</span><span class="n">quicksum</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">)</span>
    
    <span class="c1"># solve</span>
    <span class="n">pyo</span><span class="o">.</span><span class="n">SolverFactory</span><span class="p">(</span> <span class="s1">&#39;gurobi&#39;</span> <span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
    
    <span class="c1"># update inventory</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">M</span><span class="p">:</span>
        <span class="n">inventory</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">period</span><span class="p">]</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">prev</span><span class="p">[</span><span class="n">period</span><span class="p">]]</span> <span class="o">+</span> <span class="n">purchases</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">period</span><span class="p">]</span> \
                <span class="o">-</span> <span class="nb">sum</span><span class="p">([</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">p</span><span class="p">])</span> <span class="o">*</span> <span class="n">use</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">p</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">])</span>
    
    <span class="c1"># update missed demand</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">:</span>
        <span class="n">missed_demand</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">p</span><span class="p">,</span> <span class="n">period</span><span class="p">]</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">simulate_performance</span><span class="p">(</span><span class="n">problem_data</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">rho</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">):</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">perturbed_demand</span> <span class="o">=</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;demand_chips_simulation&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">rho</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">())))</span>
        <span class="n">inv</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">simulation_per_trajectory</span><span class="p">(</span><span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;purchases&quot;</span><span class="p">],</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;existing&quot;</span><span class="p">],</span> <span class="n">perturbed_demand</span><span class="p">,</span> <span class="n">use</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;inventory&quot;</span><span class="p">:</span> <span class="n">inv</span><span class="p">,</span> <span class="s2">&quot;missing_demand&quot;</span><span class="p">:</span> <span class="n">md</span><span class="p">})</span>
        
    <span class="n">MissingDemand</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">i</span><span class="p">[</span><span class="s2">&quot;missing_demand&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">results</span><span class="p">],</span> <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))])</span>
    <span class="n">MissingDemand</span> <span class="o">=</span> <span class="n">MissingDemand</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">swaplevel</span><span class="p">()</span>
    
    <span class="n">InventoryEvolution</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">i</span><span class="p">[</span><span class="s2">&quot;inventory&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">results</span><span class="p">],</span> <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))])</span>
    <span class="n">InventoryEvolution</span> <span class="o">=</span> <span class="n">InventoryEvolution</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">swaplevel</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;MissingDemand&quot;</span><span class="p">:</span> <span class="n">MissingDemand</span><span class="p">,</span> 
            <span class="s2">&quot;InventoryEvolution&quot;</span><span class="p">:</span> <span class="n">InventoryEvolution</span><span class="p">}</span>

<span class="k">def</span> <span class="nf">report</span><span class="p">(</span><span class="n">MissingDemand</span><span class="p">,</span> <span class="n">InventoryEvolution</span><span class="p">,</span> <span class="n">problem_data</span><span class="p">,</span> <span class="n">plot_name</span> <span class="o">=</span> <span class="s2">&quot;Nominal&quot;</span><span class="p">):</span>
    <span class="n">to_analyze</span> <span class="o">=</span> <span class="n">MissingDemand</span>
    
    <span class="c1"># list to store DFs with per-group computed quantiles at various levels</span>
    <span class="n">average_missed_demand</span> <span class="o">=</span> <span class="n">to_analyze</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>

    <span class="c1"># build a plot with as many subplots as there are chip types</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
    <span class="n">average_missed_demand</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span> <span class="o">=</span> <span class="n">axis</span><span class="p">,</span> <span class="n">drawstyle</span><span class="o">=</span><span class="s1">&#39;steps-mid&#39;</span><span class="p">,</span><span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1">#, xticks = average_missed_demand.index)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">average_missed_demand</span><span class="o">.</span><span class="n">index</span><span class="p">)),</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">average_missed_demand</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    <span class="c1">#axis.set_xticks(ticks=average_missed_demand.index, labels=average_missed_demand.index)</span>
    <span class="n">axis</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Missed demand of chips under &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">rho</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="si">% u</span><span class="s2">ncertainty&quot;</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;Missed_demand_&quot;</span> <span class="o">+</span> <span class="n">plot_name</span> <span class="o">+</span> <span class="s2">&quot;.pdf&quot;</span><span class="p">)</span>
    
    <span class="n">realized_inv_cost</span> <span class="o">=</span> <span class="n">InventoryEvolution</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;inventory_cost&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Purchasing cost: &quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;purchases&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Assumed inventory cost: &quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;stock&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;inventory_cost&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Simulated inventory cost:&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">realized_inv_cost</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Simulated average missing demand: &quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">to_analyze</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">N_sim</span> <span class="o">=</span> <span class="mi">50</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;================= Nominal model =====================&quot;</span><span class="p">)</span>
<span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;demand_chips_ref&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">demand_chips</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">BIMProductAcquisitionAndInventory</span><span class="p">(</span><span class="n">problem_data</span><span class="p">)</span>

<span class="n">pyo</span><span class="o">.</span><span class="n">SolverFactory</span><span class="p">(</span><span class="s1">&#39;cbc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;purchases&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ShowTableOfPyomoVariables</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span> <span class="p">)</span>
<span class="n">problem_data</span><span class="p">[</span><span class="s2">&quot;stock&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ShowTableOfPyomoVariables</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span> <span class="p">)</span>

<span class="n">SimResults</span> <span class="o">=</span> <span class="n">simulate_performance</span><span class="p">(</span><span class="n">problem_data</span><span class="p">,</span>
                                  <span class="n">N_sim</span><span class="p">,</span> 
                                  <span class="n">rho</span><span class="p">)</span>

<span class="n">report</span><span class="p">(</span><span class="n">SimResults</span><span class="p">[</span><span class="s2">&quot;MissingDemand&quot;</span><span class="p">],</span>
       <span class="n">SimResults</span><span class="p">[</span><span class="s2">&quot;InventoryEvolution&quot;</span><span class="p">],</span>
       <span class="n">problem_data</span><span class="p">,</span>
       <span class="s2">&quot;nominal&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>================= Nominal model =====================
Purchasing cost:  20309.769999999997
Assumed inventory cost:  3270.5725
Simulated inventory cost: 3292.244428726716
Simulated average missing demand:  {&#39;logic&#39;: 11.775706293429439, &#39;memory&#39;: 0.0}
</pre></div>
</div>
<img alt="../../_images/bim-robustness-analysis_8_1.png" src="../../_images/bim-robustness-analysis_8_1.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks/07"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="07.00.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">7. Accounting for Uncertainty: Optimization Meets Reality</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../08/08.00.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">8. Robust Optimization - Single Stage Problems</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The MO Book Group<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>